(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{138:function(e,t,n){"use strict";n.r(t);n(69),n(71),n(144);var o=n(146),i=n.n(o),r={methods:{closeApp:function(){this.$router.push({path:"/files"})}}},s=(n(148),n(140)),a=Object(s.a)(r,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"oc-app-bar",attrs:{id:"preferences-app-bar"}},[t("oc-grid",{attrs:{flex:"",gutter:"small"}},[t("div",{staticClass:"uk-width-auto"},[t("oc-drop")],1),this._v(" "),t("div",{staticClass:"uk-width-expand uk-text-center"},[t("h2",[t("strong",[this._v("Settings")])])]),this._v(" "),t("div",{staticClass:"uk-width-auto uk-text-right"},[t("oc-button",{attrs:{icon:"close"},on:{click:this.closeApp}})],1)])],1)},[],!1,null,null,null).exports,c={props:{options:{type:Array,required:!0},value:{type:null,default:""}},data:function(){return{selectedOption:""}},mounted:function(){this.selectedOption=this.value,console.log(this.options)},watch:{value:function(e){this.selectedOption=e}}},l=Object(s.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],on:{input:function(t){e.$emit("input",t.target.value)},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedOption=t.target.multiple?n:n[0]}}},e._l(e.options,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])},[],!1,null,null,null).exports,d=n(150),p={name:"Preferences",components:{PreferencesAppBar:a,dropdown:l},data:function(){return{loading:!1,error:null,selectedMimeType:"",selectedProvider:"",providers:null}},created:function(){this.fetchdata()},watch:{$route:"fetchdata"},computed:i()({},Object(d.a)(["getToken"]),Object(d.a)("Preferences",["mimetypes"]),{mimetypesList:function(){return this.mimetypes},providersList:function(){return this.providers}}),methods:{fetchdata:function(){var e=this;this.loading=!0;var t=new Headers;t.append("Authorization","Bearer "+this.getToken),fetch("http://localhost:9998/appregistry/list",{method:"GET",headers:t}).then(function(e){if(200===e.status)return e.json();throw console.log(e),new Error("get value did not worked")}).then(function(t){e.providers=t,e.loading=!1}).catch(function(t){e.loading=!1,e.error=t.toString(),console.error(t)})},setMimetype:function(e){var t=this;this.selectedMimeType=e,this.selectedProvider="",console.log(this.selectedMimeType);var n="http://localhost:9998/preferences/"+this.selectedMimeType,o=new Headers;o.append("Authorization","Bearer "+this.getToken),fetch(n,{mode:"cors",method:"GET",headers:o}).then(function(e){if(200===e.status)return e.text().then(function(e){console.log(e),t.selectedProvider=e});throw console.log(e),new Error("get value did not worked")}).catch(function(e){console.error(e)})},setProvider:function(e){this.selectedProvider=e},RegisterAppProvider:function(){var e="http://localhost:9998/preferences/"+this.selectedMimeType,t=new Headers;t.append("Authorization","Bearer "+this.getToken),t.append("Content-Type","application/json");var n={value:this.selectedProvider};fetch(e,{mode:"cors",method:"POST",headers:t,body:JSON.stringify(n)}).then(function(e){if(200!==e.status)throw console.log(e),new Error("Something went wrong on api server!")}).catch(function(e){console.error(e)})}}},u=(n(151),Object(s.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"preferences"}},[n("preferences-app-bar"),e._v(" "),e.loading?n("div",{staticClass:"loading"},[e._v("Loading...")]):e._e(),e._v(" "),e.error?n("div",{staticClass:"error"},[e._v(e._s(e.error))]):n("div",[e._m(0),e._v(" "),n("div",{staticClass:"doc-association"},[n("div",{staticClass:"drop-down"},[n("div",{staticClass:"mimetype"},[e._m(1),e._v(" "),n("dropdown",{attrs:{id:"mimetype-dropdown",options:e.mimetypesList},on:{input:e.setMimetype}})],1),e._v(" "),n("div",{staticClass:"provider"},[e._m(2),e._v(" "),n("dropdown",{attrs:{id:"provider-dropdown",options:e.providersList},on:{input:e.setProvider},model:{value:e.selectedProvider,callback:function(t){e.selectedProvider=t},expression:"selectedProvider"}})],1)]),e._v(" "),n("div",{staticClass:"button"},[n("button",{attrs:{id:"register"},on:{click:e.RegisterAppProvider}},[e._v("Register")])])])])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"uk-flex"},[t("h3",[this._v("Document Associations")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"mime-type"}},[t("strong",[this._v("Mime Type")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"providers"}},[t("strong",[this._v("Providers")])])}],!1,null,null,null));t.default=u.exports},139:function(e,t,n){var o=n(149);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(143).default)("57da7032",o,!0,{})},141:function(e,t,n){var o=n(152);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(143).default)("229a9fe7",o,!0,{})},148:function(e,t,n){"use strict";var o=n(139);n.n(o).a},149:function(e,t,n){(e.exports=n(142)(!1)).push([e.i,"\nbody {\n  color: black\n}\nh3 {\n  color: darkblue\n}\n",""])},151:function(e,t,n){"use strict";var o=n(141);n.n(o).a},152:function(e,t,n){(e.exports=n(142)(!1)).push([e.i,"\ndiv.doc-association {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\ndiv.drop-down {\n  display: flex;\n  justify-content: flex-start;\n}\ndiv.mimetype {\n  height: 30%;\n  color: black;\n  padding: 15px 0px 0px 15px;\n}\ndiv.provider {\n  height: 30%;\n  color: black;\n  padding: 15px 0px 0px 15px;\n}\ndiv.button {\n  height: 25%;\n  color: black;\n  padding: 15px 0px 0px 15px;\n}\ndiv.uk-flex {\n  padding: 15px 0px 0px 15px;\n}\n",""])}}]);